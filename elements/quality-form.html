
<!-- Import de polymer-->
<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/polymer/lib/elements/dom-repeat.html">
<link rel="import" href="../bower_components/polymer/lib/elements/dom-if.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../bower_components/paper-radio-button/paper-radio-button.html">
<link rel="import" href="../bower_components/paper-radio-group/paper-radio-group.html">
<link rel="import" href="../bower_components/polymer/lib/utils/gestures.html">
<link rel="import" href="../bower_components/iron-form/iron-form.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">

<!--Define la etiqueta-->
<dom-module id="quality-form">
  <template>
    <style>
       
      .task{
        display: flex;
        align-items: center;
      }
      paper-input{
        display: inline-block;
      }

    </style>

    <h2>{{name}}</h2>
    <iron-form id="quality_form">
      <form>
        <br>

       <!--  poner labels??
        <label id="label-1">{{question_1.value}}</label>
        <paper-radio-group id="{{question_1.id}}" name="q1" aria-labelledby="label-1"> -->

        <p>{{question_1.value}}</p>
        <paper-radio-group  name="q1" attr-for-selected="value">
          <paper-radio-button name="{{question_1.id}}" value="1">1</paper-radio-button>
          <paper-radio-button name="{{question_1.id}}" value="2">2</paper-radio-button>
          <paper-radio-button name="{{question_1.id}}" value="3">3</paper-radio-button>
          <paper-radio-button name="{{question_1.id}}" value="4">4</paper-radio-button>
          <paper-radio-button name="{{question_1.id}}" value="5">5</paper-radio-button>
        </paper-radio-group>
        <div>
          <p>¿Desea rellenar el formulario completo?</p>
          <paper-button raised on-click="showRest">Sí</paper-button>
          <paper-button raised on-click="hideRest">No</paper-button>
        </div>
        <br>
        <div>
          <template is="dom-if" if="{{show}}" observe="{{show}}">
            <div>
              <dom-repeat items="{{questionsA}}" as="question">
                <template>
                  <p>{{question.value}}</p>
                    <paper-radio-group name="{{question.id}}" attr-for-selected="value">
                      <dom-repeat items={{opinion}} as="op">
                        <template>
                          <paper-radio-button name={{question.id}} value="{{op.score}}">{{op.value}}</paper-radio-button><br> 
                        </template>
                      </dom-repeat>
                    </paper-radio-group>
                </template>
              </dom-repeat>
            </div>
            <div>
              <dom-repeat items="{{questionsB}}" as="question">
                <template>
                  <p>{{question.value}}</p>
                    <paper-radio-group name="{{question.id}}" attr-for-selected="value"> 
                      <paper-radio-button name={{question.id}} value="Sí">Sí</paper-radio-button><br> 
                      <paper-radio-button name={{question.id}} value="No">No</paper-radio-button><br> 
                    </paper-radio-group>
                </template>
              </dom-repeat>
            </div>
            <dom-repeat items="{{questionsC}}" as="question">
              <template>
                <p>{{question.value}}</p>
                <textarea name="{{question.id}}" cols="65" rows = "10"></textarea>
              </template>
            </dom-repeat>
          </template>
        </div>
        <br>
        <paper-button type="submit" raised on-click="submit">Enviar</paper-button>
      </form>
    </iron-form>

    <!--Pruebas -->
    <hr>
    <button on-click="log">Log</button>
      
  </template>

  <script>
      
    /**
     * `quality-form`
     * formulario para recoger opinion de usuario
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
     //define la clase con la que implemento el componente
    class QualityForm extends Polymer.Element {
      static get is() { return 'quality-form'; }
      static get properties() {
        return {
          name:{
            type: String,
            value: "Formulario de satisfacción"
          },
          question_1:{
            type: Object,
            value: {value:"¿Qué nota le darías al componente?", id: "q1"}
          },
          questionsA:{
            type: Array,
            value: [
                    {value: "El componente es difícil de usar",id: "q2",label:"l2"},
                    {value:"El diseño del componente me parece apropiado",id:"q3",label:"l3"},
                    {value:"La información del componente se muestra de manera concisa y clara",id:"q4",label:"l4"}
                      ]
          },
          questionsB:{
            type: Array,
            value: [
            {value:"¿Recomendarías este componente?",type:"yon",id:"q5",label:"l5"},
            {value:"¿Usarías este componente?",type:"yon",id:"q6",label:"l6"}
            ]
          },
          questionsC:{
            type: Array,
            value: [
            {value:"Indique una característica a destacar del componente",id:"q7",label:"l7"},
            {value:"Indique un defecto a destacar del componente",id:"q8",label:"l8"}
            ]
          },
          opinion:{
            type: Array,
            value: [
              {value:"Completamente en desacuerdo",score:"1"},
              {value:"En desacuerdo",score:"2"},
              {value:"Ni de acuerdo ni desacuerdo",score:"3"},
              {value:"De acuerdo",score:"4"},
              {value:"Completamente de acuerdo",score:"5"}
            ]
          },
          show:{
            type: Boolean,
            value: false
          },
        };
      }
      showRest(){
        this.show = true;
      }
      hideRest(){
        this.show = false;
      }
      log(){
        //boton para pruebas
        // console.log(this.questions);
        console.log(this.$.quality_form.validate())
      }
      submit(){
        console.log(this.$.quality_form.serializeForm());
      }
    }
    window.customElements.define(QualityForm.is, QualityForm);
  </script>
</dom-module>



<!-- {value:"¿Qué nota le darías al componente?", type: "rate",show:true}, -->
   